<!DOCTYPE html>
<html lang="zh-tw">
<head>
    <meta charset="UTF-8">
    <title>C++ Blockly</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="public/favicon.ico" type="image/x-icon">
    <!-- Blockly -->
    <script src="https://unpkg.com/blockly/blockly_compressed.js"></script>
    <script src="https://unpkg.com/blockly/blocks_compressed.js"></script>
    <script src="https://unpkg.com/blockly/javascript_compressed.js"></script>
    <!-- Markdown & Highlight -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/5.2.0/github-markdown.min.css">
    <link rel="stylesheet" href="public/style.css">
</head>

<body>
    <header>
        <h1>C++ Blockly</h1>
        <div id="searchContainer">
            <input type="text" id="searchInput" placeholder="🔍 搜尋方塊 ID...">
            <button class="search" id="searchButton">搜尋</button>
        </div>
        <div class="actions">
            <button class="undo" id="undoBtn">undo</button>
            <button class="redo" id="redoBtn">redo</button>
            <button class="compile" id="c">編譯程式碼</button>
            <button class="run_compile" id="c_r">編譯並執行</button>
            <button class="start-tutorial-btn" id="start-tutorial">📚 快速教學</button>
            <button class="menu" id="menu">⚙️ 設定</button>
        </div>
    </header>

    <div id="blockly-workspace"></div>

    <div class="test_compiler" id="test_compiler">
        <header>
            <span>編譯與測試</span>
        </header>
        <div class="input-output">
            <div class="section">
                <h3>📄 測資
                    <button onclick="copyText('textarea')">複製</button>
                    <button id="reset">重置</button>
                </h3>
                <textarea id="textarea" placeholder="請在這裡輸入測資..."></textarea>
            </div>
            <div class="section">
                <h3>📋 結果
                    <button onclick="copyText('report')">複製</button>
                    <button id="reset_2">清除</button>
                </h3>
                <textarea readonly placeholder="結果將顯示在這裡..." id="report"></textarea>
            </div>
        </div>
    </div>

    <div class="code-view" id="code-view">
        <header>
            <span>轉換程式碼</span>
            <div>
                <button onclick="copyText('code')">複製</button>
                <button onclick="downloadText('code', 'main.cpp')">下載</button>
            </div>
        </header>
        <div class="code-content" id="code"></div>
    </div>

    <div class="blockly-view" id="blockly-view">
        <header>
            <span>Blockly 說明</span>
        </header>
        <div>
            <p>👉 點擊方塊查看說明。</p>
        </div>
    </div>

    <div class="info" id="info">
        <header>
            <span>關於我們以及網站</span>
        </header>
        <div>
            <ul>
                <li><p>網站名稱：C++ Blockly</p></li>
                <li><p>作者：</p></li>
                <ul>
                    <li><a href="https://github.com/EricbobXD">EricbobXD(Coderex._.bob)</a></li>
                    <li><a href="https://github.com/bosen-you">bosen-you</a></li>
                </ul>
                <li><p>執照：<a href="https://github.com/EricbobXD/C_plus_plus_Blockly/tree/main?tab=Apache-2.0-1-ov-file">Apache-2.0 license</a></p></li>
                <li><p>創作年份：2024年</p></li>
                <li><p>👉 <a href="https://github.com/EricbobXD/C_plus_plus_Blockly">Github</a></p></li>
                <img src="public/b_w_b.png" style="height: 100px;" style="width: auto;"><img>
            </ul>
        </div>
    </div>

    <!-- 新增分類說明面板 -->
    <div class="class-view" id="class-view">
        <!-- 左側標籤（靜態定義） -->
        <div class="class-tabs" id="class-tabs">
        </div>
        <!-- 右側內容區 -->
        <div class="class-content">
        <header id="topic">
        </header>
        <div id="category-details" style="padding: 10px; overflow-y: auto; max-height: calc(100vh - 150px);">
        </div>
        </div>
    </div>

    <div id="menu-container">
        <h3 style="text-align: center;">設定列表</h3>
        <button id="menu-codeview" class="menu-btn">📝 測試編譯</button>
        <button id="menu-conversion" class="menu-btn">🔁 轉換代碼</button>
        <button id="menu-intro" class="menu-intro">📗 方塊說明</button>
        <button id="menu-class-intro" class="menu-class-intro">📖 分類說明</button>
        <button id="menu-info" class="menu-info">💳 關於我們</button>
    </div>

    <div class="overlay" id="overlay"></div>
    <div class="highlight" id="highlight"></div>
    <div class="tooltip" id="tooltip">
        <p id="tooltip-text"></p>
        <button id="next-step">下一步</button>
    </div>

    <footer>
        &copy; 2024 Bosen &amp; EricbobXD. All Rights Reserved.
    </footer>
    
    <div id="var_model" class="model">
        <label>輸入變數名稱: </label><br>
        <input type="text" id="VarName"><br><br>

        <label>選擇類型：</label><br>
        <input type="radio" name="vartype" value="VAR" checked> 變數<br>
        <input type="radio" name="vartype" value="PTR"> 指標<br>
        <input type="radio" name="vartype" value="REF"> 參考<br><br>

        <button onclick="confirmVar()">確定</button>
        <button onclick="cancel('var_model')">取消</button>
    </div>

    <div id="array_model" class="model">
        <label>輸入陣列名稱: </label><br>
        <input type="text" id="ArrayName"><br><br>

        <button onclick="confirmArray()">確定</button>
        <button onclick="cancel('array_model')">取消</button>
    </div>
    
    <div id="func_model" class="model">
        <label>輸入函數名稱: </label><br>
        <input type="text" id="FuncName"><br><br>

        <label>選擇類型：</label><br>
        <input type="radio" name="functype" value="Function" checked> 函式<br>
        <input type="radio" name="functype" value="Lambda"> lambda<br>
        <input type="radio" name="functype" value="Struct"> struct<br>
        <input type="radio" name="functype" value="Class"> class<br>
        <input type="radio" name="functype" value="Operation"> operation<br>

        <button onclick="confirmFunction()">確定</button>
        <button onclick="cancel('func_model')">取消</button>
    </div>

    <div id="get_model" class="model">
        <label>輸入變數名稱: </label><br>
        <input type="text" id="GetName"><br><br>

        <label>選擇類型：</label><br>
        <input type="radio" name="gettype" value="Struct_Name" checked> 結構變數<br>
        <input type="radio" name="gettype" value="Class_Name"> 類別變數<br>

        <button onclick="confirmGet()">確定</button>
        <button onclick="cancel('get_model')">取消</button>
    </div>

    <script type="module" src="public/index.js" defer></script>
</html>

